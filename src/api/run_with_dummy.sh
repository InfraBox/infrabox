#!/usr/bin/env bash
SCRIPTPATH="$( cd "$(dirname "$0")" ; pwd -P )"

export PYTHONPATH=$PYTHONPATH:$SCRIPTPATH/..
echo $PYTHONPATH

# DB Configuration
export INFRABOX_DATABASE_DB=postgres
export INFRABOX_DATABASE_PORT=5439
export INFRABOX_DATABASE_HOST=localhost
export INFRABOX_DATABASE_USER=postgres
export INFRABOX_DATABASE_PASSWORD=postgres

# Service Config
export INFRABOX_VERSION=local
export INFRABOX_SERVICE=api
export INFRABOX_LOG_LEVEL=debug
export INFRABOX_ROOT_URL=http://localhost:8880
export INFRABOX_JOB_MAX_OUTPUT_SIZE=99999999999
export INFRABOX_JOB_SECURITY_CONTEXT_CAPABILITIES_ENABLED=false
export INFRABOX_CLUSTER_NAME=master
export INFRABOX_GENERAL_REPORT_ISSUE_URL=no_url

# S3 Config
export INFRABOX_STORAGE_GCS_ENABLED=false
export INFRABOX_STORAGE_S3_ENABLED=true
export INFRABOX_STORAGE_S3_SECURE=false
export INFRABOX_STORAGE_S3_REGION=us-east-1
export INFRABOX_STORAGE_S3_ENDPOINT=http://minio
export INFRABOX_STORAGE_S3_PORT=9000
export INFRABOX_STORAGE_S3_BUCKET=infrabox
export INFRABOX_STORAGE_S3_ACCESS_KEY=AKIAIOSFODNN7EXAMPLE
export INFRABOX_STORAGE_S3_SECRET_KEY=wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY

# Account
export INFRABOX_ACCOUNT_SIGNUP_ENABLED=true
export INFRABOX_ACCOUNT_LDAP_ENABLED=false

# Github
export INFRABOX_GITHUB_ENABLED=true
export INFRABOX_GITHUB_LOGIN_ENABLED=true
export INFRABOX_GITHUB_CLIENT_ID=69cbd51fe6733298cd08x
export INFRABOX_GITHUB_CLIENT_SECRET=5e7e8f519dbe84947b47226aca8ac0f3b8353303
export INFRABOX_GITHUB_LOGIN_URL=https://github.com/login
export INFRABOX_GITHUB_API_URL=https://api.github.com
export INFRABOX_GITHUB_WEBHOOK_SECRET=p45c7cf0a894f123d1d5834585c9080a9c423fdab23aebbc34c37aac1a5432ha


# Gitlab
export INFRABOX_GITLAB_ENABLED=true
export INFRABOX_GITLAB_LOGIN_ENABLED=true
export INFRABOX_GITLAB_API_URL=http://localhost:1357/api/v4
export INFRABOX_GITLAB_LOGIN_URL=http://localhost:1357/users/sign_in
export INFRABOX_GITLAB_OAUTH_URL=http://localhost:1357/oauth
export INFRABOX_GITLAB_APPLICATION_ID=5dbbd5871a4c1fee17783c24bde94bc5b2ca86b5c3b76e485f131e765a0d715e
export INFRABOX_GITLAB_APPLICATION_SECRET=f45c7cf0a894f220d1d5893785c9080a9c123fdab23aebbc34c87aac1a9273cd
export INFRABOX_GITLAB_WEBHOOK_ID=2fdse5871a4c1fee54221q24bde54bc5b2ca56h5c3b76e485f131e765a7g234w
export INFRABOX_GITLAB_WEBHOOK_SECRET=p45c7cf0a894f123d1d5834585c9080a9c423fdab23aebbc34c37aac1a5432ha

# Gerrit
export INFRABOX_GERRIT_ENABLED=false

# RSA
export INFRABOX_RSA_PRIVATE_KEY_PATH=../../infrabox/test/utils/id_rsa
export INFRABOX_RSA_PUBLIC_KEY_PATH=../../infrabox/test/utils/id_rsa.pub

python server.py
